document.getElementById("theme").setAttribute("href","styles/retrosf/styles.min.css");var screenWidth=document.documentElement.clientWidth,screenHeight=document.documentElement.clientHeight;function resizeCanvas(e){Array.from(document.getElementsByClassName("minichart")).forEach((function(current_value){current_value.width=.25*referenceWidth,"minichart-total"==current_value.id?current_value.height=.2*referenceHeight:current_value.height=.25*referenceHeight})),Array.from(document.getElementsByClassName("detailchart")).forEach((function(current_value){"detailchart-total"==current_value.id?current_value.width=.82*referenceWidth:current_value.width=.45*referenceWidth,current_value.height=.45*referenceHeight})),drawChart("trantor",actualValuesTrantor,targetValuesTrantor),drawChart("anacreon",actualValuesAnacreon,targetValuesAnacreon),drawChart("aurora",actualValuesAurora,targetValuesAurora),drawChart("terminus",actualValuesTerminus,targetValuesTerminus),drawChart("gaia",actualValuesGaia,targetValuesGaia);var screenWidth=document.documentElement.clientWidth,screenHeight=document.documentElement.clientHeight;if(screenWidth/screenHeight>16/9){var scaleFactor=screenHeight/referenceHeight,offset=Math.abs(screenWidth-document.getElementsByTagName("main")[0].offsetWidth*scaleFactor)/2;console.log(offset),document.getElementsByTagName("main")[0].style.top="0",document.getElementsByTagName("main")[0].style.left=offset.toString()+"px"}else{var scaleFactor=screenWidth/referenceWidth,offset=Math.abs(screenHeight-document.getElementsByTagName("main")[0].offsetHeight*scaleFactor)/2;console.log(offset),document.getElementsByTagName("main")[0].style.top=offset.toString()+"px",document.getElementsByTagName("main")[0].style.left="0"}document.getElementsByTagName("main")[0].style.transform="scale("+scaleFactor+")"}window.addEventListener("resize",resizeCanvas,!1),referenceWidth=1920,referenceHeight=1080,originalDimensions={size:{width:"32%",height:"45%"},positions:[{top:"3%",left:"4%"},{top:"3%",left:"34.5%"},{top:"3%",left:"65%"},{top:"44%",left:"4%"},{top:"44%",left:"34.5%"},{top:"44%",left:"65%"}]},detailDimensions={width:"93%",height:"86%",top:"3%",left:"4%"},outDimensions={toprowTop:"-45%",bottomrowTop:"100%"},Array.from(document.getElementsByClassName("minichart")).forEach((function(current_value){current_value.width=.25*referenceWidth,current_value.height=.25*referenceHeight})),Array.from(document.getElementsByClassName("detailchart")).forEach((function(current_value){current_value.width=.45*referenceWidth,current_value.height=.45*referenceHeight})),document.getElementById("backgroundVideo").innerHTML='<source src="styles/retrosf/stars.mp4" type="video/mp4">',document.getElementById("legend-backdrop").innerHTML='<video autoplay muted loop id="legend-backdrop-video"><source src="styles/retrosf/stars.mp4" type="video/mp4"></video>',document.getElementById("quote-backdrop").innerHTML='<video autoplay muted loop id="quote-backdrop-video"><source src="styles/retrosf/stars.mp4" type="video/mp4"></video>';var light1=document.createElement("div"),light2=document.createElement("div"),light3=document.createElement("div");function neatUpNumbers(current_class){Array.from(document.getElementsByClassName(current_class)).forEach((function(current_value){try{current_value.firstChild.innerHTML=numberSeperator(current_value.firstChild.innerHTML)}catch(e){}}))}function numberSeperator(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"'")}light1.setAttribute("class","light"),light2.setAttribute("class","light"),light3.setAttribute("class","light"),light1.setAttribute("id","light1"),light2.setAttribute("id","light2"),light3.setAttribute("id","light3"),document.getElementById("quote-frame").appendChild(light1),document.getElementById("quote-frame").appendChild(light2),document.getElementById("quote-frame").appendChild(light3),neatUpNumbers("minihours"),neatUpNumbers("minibots"),neatUpNumbers("minicash"),neatUpNumbers("detailhours"),neatUpNumbers("detailbots"),neatUpNumbers("detailcash"),Array.from(document.getElementsByClassName("botlist-hours")).forEach((function(current_value){try{current_value.innerHTML=numberSeperator(current_value.innerHTML)}catch(e){}})),"false"!=getQueryString("interactive")&&(document.getElementsByTagName("body")[0].style.cursor="default"),Chart.defaults.global.responsive=!1,Chart.defaults.global.legend.display=!1,Chart.defaults.scale.gridLines.display=!1,Chart.defaults.global.defaultFontFamily="'Monaco', monospace",Chart.defaults.global.defaultFontSize="14",Chart.defaults.global.defaultFontColor="rgba(0, 255, 0, 1)",Chart.defaults.global.animation.duration=0,Chart.defaults.global.elements.line.borderColor="rgba(0, 255, 0, 1)",Chart.defaults.global.elements.line.borderWidth=5,Chart.defaults.global.elements.line.backgroundColor="rgba(0, 0, 0, 0)",Chart.defaults.global.elements.line.tension=0,Chart.defaults.global.elements.line.borderCapStyle="square",Chart.defaults.global.elements.line.borderJoinStyle="miter",Chart.defaults.global.elements.line.pointHoverRadius=0,Chart.defaults.global.elements.line.pointRadius=0,Chart.defaults.global.elements.line.pointHitRadius=0,Chart.defaults.global.elements.point.radius=0,Chart.defaults.global.elements.point.hitRadius=0,Chart.defaults.global.elements.point.hoverRadius=0,Chart.defaults.line.spanGaps=!0,window.addEventListener("load",(function(event){setQuote(),resizeCanvas()})),setTimeout((function(){setTimeout((function(){document.getElementById("splash").style.opacity="0",setTimeout((function(){document.getElementById("splash").style.display="none"}),1e3)}),1e3)}),1e3),setTimeout((function(){document.getElementById("splash").style.display="none"}),7500);var tile0=document.getElementById("tile-total"),tile1=document.getElementById("tile-trantor"),tile2=document.getElementById("tile-anacreon"),tile3=document.getElementById("tile-aurora"),tile4=document.getElementById("tile-terminus"),tile5=document.getElementById("tile-gaia"),tiles=[tile0,tile1,tile2,tile3,tile4,tile5];"false"!=getQueryString("interactive")&&tiles.forEach((function(current_value){current_value.onclick=function(){zoomUp(current_value)},current_value.style.cursor="pointer"}));var nextTile=1,detailView=!1;function zoomUp(focusTile){tiles.forEach((function(current_value){current_value.onclick=null,current_value!=focusTile&&(current_value.getElementsByClassName("minicontent")[0].style.animation="pulseglow 2s alternate infinite, shutoff 1s alternate 1 forwards",current_value.getElementsByClassName("frontdrop")[0].style.animation="flicker linear 5s infinite",current_value.getElementsByClassName("backdrop")[0].style.background="rgba(0, 0, 0, 0.9)")})),setTimeout((function(){tiles.forEach((function(current_value){current_value!=focusTile&&(current_value.classList.contains("tile-top")?current_value.style.top=outDimensions.toprowTop:current_value.style.top=outDimensions.bottomrowTop,document.getElementById("legend").style.bottom="-650px")}))}),1e3),setTimeout((function(){focusTile.getElementsByClassName("minicontent")[0].style.animation="pulseglow 2s alternate infinite, flickerout 0.5s 1 forwards"}),500),setTimeout((function(){focusTile.style.width=detailDimensions.width,focusTile.style.height=detailDimensions.height,focusTile.style.top=detailDimensions.top,focusTile.style.left=detailDimensions.left,setQuote(),setTimeout((function(){focusTile.getElementsByClassName("detailcontent")[0].style.animation="pulseglow 2s alternate infinite, flickerin 0.5s 1 forwards",document.getElementById("legend").style.bottom="0","false"!=getQueryString("interactive")&&setTimeout((function(){focusTile.onclick=function(){zoomDown(focusTile)}}),1700)}),1700)}),2e3),detailView=!0}function zoomDown(focusTile){focusTile.onclick=null,focusTile.getElementsByClassName("detailcontent")[0].style.animation="pulseglow 2s alternate infinite, flickerout 0.5s 1 forwards",document.getElementById("legend").style.bottom="-650px",setTimeout((function(){focusTile.style.width=originalDimensions.size.width,focusTile.style.height=originalDimensions.size.height,focusTile.style.top=originalDimensions.positions[tiles.indexOf(focusTile)].top,focusTile.style.left=originalDimensions.positions[tiles.indexOf(focusTile)].left,setQuote(),setTimeout((function(){tiles.forEach((function(current_value){current_value!=focusTile&&(current_value.style.top=originalDimensions.positions[tiles.indexOf(current_value)].top),document.getElementById("legend").style.bottom="0",setTimeout((function(){"false"!=getQueryString("interactive")&&tiles.forEach((function(current_value){current_value.onclick=function(){zoomUp(current_value)},current_value.style.cursor="pointer"}))}),1500)})),focusTile.getElementsByClassName("minicontent")[0].style.animation="pulseglow 2s alternate infinite, flickerin 0.5s 1 forwards",document.getElementById("legend").style.bottom="0"}),1700)}),1200),tiles.forEach((function(current_value){current_value!=focusTile&&(current_value.getElementsByClassName("minicontent")[0].style.animation="pulseglow 2s alternate infinite",current_value.getElementsByClassName("frontdrop")[0].style.animation="flicker linear 5s infinite",current_value.getElementsByClassName("backdrop")[0].style.background="rgba(0, 0, 0, 0.5)")})),detailView=!1}function setQuote(){if(Math.floor(10*Math.random())>2.5)var quoteIndex=Math.floor(Math.random()*quotes.length);else var quoteIndex=0;document.getElementById("quote").innerHTML=quotes[quoteIndex].quote;var author=quotes[quoteIndex].author;quotes[quoteIndex].work.length>0&&(author+=": <i>"+quotes[quoteIndex].work+"</i>"),quotes[quoteIndex].year.length>0&&(author+=" ("+quotes[quoteIndex].year+")"),document.getElementById("author").innerHTML=author,document.getElementById("quote").style.width=0==quoteIndex?"95%":"auto",quotes[quoteIndex].quote.length>220?document.getElementById("quote").style.fontSize="8pt":document.getElementById("quote").style.fontSize="10pt",quotes[quoteIndex].quote.length>200?document.getElementById("quote-wrap").style.alignItems="flex-start":document.getElementById("quote-wrap").style.alignItems="center";var lightChecker=0;for(setlight("light1"),setlight("light2"),setlight("light3");3==lightChecker;){var lightChecker=0;setlight("light1"),setlight("light2"),setlight("light3")}function setlight(element){var lightIndex;switch(Math.floor(3*Math.random())){case 0:document.getElementById(element).style.backgroundImage='url("styles/retrosf/img/light-yellow.png")',lightChecker=0;break;case 1:document.getElementById(element).style.backgroundImage='url("styles/retrosf/img/light-red.png")',lightChecker+=1;break;case 2:document.getElementById(element).style.backgroundImage='url("styles/retrosf/img/light-blue.png")',lightChecker=0}}}"false"==getQueryString("interactive")&&setInterval((function(){switch(nextTile){case 1:0==detailView?zoomUp(tile1):(zoomDown(tile1),nextTile=2);break;case 2:0==detailView?zoomUp(tile2):(zoomDown(tile2),nextTile=3);break;case 3:0==detailView?zoomUp(tile3):(zoomDown(tile3),nextTile=4);break;case 4:0==detailView?zoomUp(tile4):(zoomDown(tile4),nextTile=5);break;case 5:0==detailView?zoomUp(tile5):(zoomDown(tile5),nextTile=1)}}),35e3);